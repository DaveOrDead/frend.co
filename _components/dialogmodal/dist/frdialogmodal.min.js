!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Frdialogmodal=e()}}(function(){return function e(t,n,o){function r(l,a){if(!n[l]){if(!t[l]){var u="function"==typeof require&&require;if(!a&&u)return u(l,!0);if(i)return i(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[l]={exports:{}};t[l][0].call(c.exports,function(e){var n=t[l][1][e];return r(n?n:e)},c,c.exports,e,t,n,o)}return n[l].exports}for(var i="function"==typeof require&&require,l=0;l<o.length;l++)r(o[l]);return r}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./matches"),i=o(r);n["default"]=function(e,t){if("function"==typeof Element.prototype.closest)return e.closest(t);for(var n=e;n&&1===n.nodeType;){if((0,i["default"])(n,t))return e;n=n.parentNode}return null}},{"./matches":4}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){"function"==typeof e&&setTimeout(e,0)}},{}],3:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.q=n.defer=n.closest=void 0;var r=e("./closest"),i=o(r),l=e("./defer"),a=o(l),u=e("./nodelist-array"),d=o(u);n.closest=i["default"],n.defer=a["default"],n.q=d["default"]},{"./closest":1,"./defer":2,"./nodelist-array":5}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e,t){if(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector,"function"==typeof Element.prototype.matches)return e.matches(t);for(var n=(e.document||e.ownerDocument).querySelectorAll(t),o=0;n[o]&&n[o]!==e;)++o;return Boolean(n[o])}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return[].slice.call(t.querySelectorAll(e))}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("frend-utils"),r=function(){function e(e){var t=(0,o.q)(L,e)[0],n=O?"alertdialog":"dialog";e.setAttribute("aria-hidden",!0),t.setAttribute("role",n)}function t(e){var t=(0,o.q)(L,e)[0];e.removeAttribute("aria-hidden"),t.removeAttribute("role")}function n(e,t){e.setAttribute("aria-hidden",!1),t.setAttribute("tabindex",-1),z=(0,o.q)(F.join(),t),z.length?z[0].focus():t.focus(),(0,o.defer)(v),(0,o.defer)(f),O||(0,o.defer)(s),t.scrollTop=0,e.classList.add(D)}function r(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=e.parentElement;n.setAttribute("aria-hidden",!0),e.removeAttribute("tabindex"),b(),p(),O||y(),n.classList.remove(D),t&&(K.focus(),K=null)}function i(e){var t=z.indexOf(T.activeElement);!e.shiftKey||0!==t&&-1!==t?e.shiftKey||t!==z.length-1||(z[0].focus(),e.preventDefault()):(z[z.length-1].focus(),e.preventDefault())}function l(e){var t=e.target,r=T.getElementById(t.getAttribute("aria-controls")),i=(0,o.q)(L,r)[0];K=t,U=i,n(r,i)}function a(){r(U)}function u(e){var t=U.parentElement;e.target===t&&r(U)}function d(e){27===e.keyCode&&r(U),9===e.keyCode&&i(e)}function c(e){var t=e.getAttribute("id"),n=(0,o.q)(j+'[aria-controls="'+t+'"]');n.forEach(function(e){return e.addEventListener("click",l)})}function f(){var e=arguments.length<=0||void 0===arguments[0]?U:arguments[0],t=(0,o.q)(M,e)[0];t.addEventListener("click",a)}function s(){var e=arguments.length<=0||void 0===arguments[0]?U:arguments[0],t=e.parentElement;t.addEventListener("click",u)}function v(){T.addEventListener("keydown",d)}function m(e){var t=e.getAttribute("id"),n=T.querySelectorAll(j+'[aria-controls="'+t+'"]');n.forEach(function(e){return e.removeEventListener("click",l)})}function p(){var e=arguments.length<=0||void 0===arguments[0]?U:arguments[0],t=(0,o.q)(M,e)[0];t.removeEventListener("click",a)}function y(){var e=U.parentElement;e.removeEventListener("click",u)}function b(){T.removeEventListener("keydown",d)}function h(){B.forEach(function(e){var n=(0,o.q)(L,e)[0];n.removeAttribute("tabindex"),t(e),m(e),p(n),y(n),e.classList.remove(P,D)}),b()}function g(){B.length&&B.forEach(function(t){e(t),c(t),t.classList.add(P)})}var E=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],q=E.selector,_=void 0===q?".js-fr-dialogmodal":q,A=E.modalSelector,L=void 0===A?".js-fr-dialogmodal-modal":A,x=E.openSelector,j=void 0===x?".js-fr-dialogmodal-open":x,w=E.closeSelector,M=void 0===w?".js-fr-dialogmodal-close":w,k=E.isAlert,O=void 0===k?!1:k,S=E.readyClass,P=void 0===S?"fr-dialogmodal--is-ready":S,C=E.activeClass,D=void 0===C?"fr-dialogmodal--is-active":C,T=document,N=T.documentElement;if("querySelector"in T&&"addEventListener"in window&&N.classList){var B=(0,o.q)(_),F=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],K=null,U=null,z=null;return g(),{init:g,destroy:h}}};n["default"]=r,t.exports=n["default"]},{"frend-utils":3}]},{},[6])(6)});