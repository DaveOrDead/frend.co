(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Frtabs = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict'

// Move Array prototype to NodeList (allows for Array methods on NodeLists)
// https://gist.github.com/paulirish/12fb951a8b893a454b32 (#gistcomment-1487315)
;
Object.defineProperty(exports, "__esModule", {
	value: true
});
Object.setPrototypeOf(NodeList.prototype, Array.prototype);

/**
 * @param {string} selector The selector to match for tab components
 * @param {object} options Object containing configuration overrides
 */
var Frtabs = function Frtabs() {
	var selector = arguments.length <= 0 || arguments[0] === undefined ? '.js-fr-tabs' : arguments[0];

	var _ref = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	var _ref$tablistSelector = _ref.tablistSelector;
	var tablistSelector = _ref$tablistSelector === undefined ? '.fr-tabs__tablist' : _ref$tablistSelector;
	var _ref$activeTabClass = _ref.activeTabClass;
	var activeTabClass = _ref$activeTabClass === undefined ? 'fr-tabs__tab--is-active' : _ref$activeTabClass;
	var _ref$tabpanelSelector = _ref.tabpanelSelector;
	var tabpanelSelector = _ref$tabpanelSelector === undefined ? '.fr-tabs__panel' : _ref$tabpanelSelector;
	var _ref$activePanelClass = _ref.activePanelClass;
	var activePanelClass = _ref$activePanelClass === undefined ? 'fr-tabs__panel--is-active' : _ref$activePanelClass;
	var _ref$tabsReadyClass = _ref.tabsReadyClass;
	var tabsReadyClass = _ref$tabsReadyClass === undefined ? 'has-fr-tabs' : _ref$tabsReadyClass;

	// CONSTANTS
	var doc = document;
	var docEl = doc.documentElement;

	// SUPPORTS
	if (!'querySelector' in document || !'addEventListener' in window || !docEl.classList) return;

	// SETUP
	// set tab element NodeLists
	var tabContainers = doc.querySelectorAll(selector);
	var tabLists = doc.querySelectorAll(tablistSelector);
	var tabListItems = doc.querySelectorAll(tablistSelector + ' li');
	var tabs = doc.querySelectorAll(tablistSelector + ' a');
	var tabpanels = doc.querySelectorAll(tabpanelSelector);

	// PRIVATE METHODS
	// a11y
	function _addA11y() {
		// add role="tablist" to ul
		tabLists.forEach(function (tabList) {
			tabList.setAttribute('role', 'tablist');
		});

		// add role="presentation" to li
		tabListItems.forEach(function (tabItem) {
			tabItem.setAttribute('role', 'presentation');
		});

		// add role="tab" and aria-controls to anchor
		tabs.forEach(function (tab) {
			tab.setAttribute('role', 'tab');
			tab.setAttribute('aria-controls', tab.hash.substring(1));
		});

		// add role="tabpanel" to section
		tabpanels.forEach(function (tabpanel) {
			tabpanel.setAttribute('role', 'tabpanel');
			// make first child of tabpanel focusable if available
			if (tabpanel.children) {
				tabpanel.children[0].setAttribute('tabindex', 0);
			}
		});
	}

	function _removeA11y() {
		// remove role="tablist" from ul
		tabLists.forEach(function (tabList) {
			tabList.removeAttribute('role');
		});

		// remove role="presentation" from li
		tabListItems.forEach(function (tabItem) {
			tabItem.removeAttribute('role');
		});

		// remove role="tab" and aria-controls from anchor
		tabs.forEach(function (tab) {
			tab.removeAttribute('role');
			tab.removeAttribute('aria-controls');
		});

		// remove role="tabpanel" from section
		tabpanels.forEach(function (tabpanel) {
			tabpanel.removeAttribute('role');
			// remove first child focusability if present
			if (tabpanel.children) {
				tabpanel.children[0].removeAttribute('tabindex');
			}
		});
	}

	// events
	function _eventTabClick(e) {
		_showTab(e.target);
		e.preventDefault(); // look into remove id/settimeout/reinstate id as an alternative to preventDefault
	}

	function _eventTabKeydown(e) {
		// collect tab targets, and their parents' prev/next
		var currentTab = e.target;
		var previousTabItem = e.target.parentNode.previousElementSibling;
		var nextTabItem = e.target.parentNode.nextElementSibling;
		var newTabItem = undefined;

		// catch left and right arrow key events
		switch (e.keyCode) {
			case 37:
				newTabItem = previousTabItem;
				break;
			case 39:
				newTabItem = nextTabItem;
				break;
			default:
				newTabItem = false;
				break;
		}

		// if new next/prev tab available, show it by passing tab anchor to _showTab method
		if (newTabItem) {
			_showTab(newTabItem.querySelector('[role="tab"]'));
		}
	}

	// actions
	function _showTab(target) {
		// set inactives
		tabs.forEach(function (tab) {
			tab.setAttribute('tabindex', -1);
		});
		tabpanels.forEach(function (tabpanel) {
			tabpanel.setAttribute('aria-hidden', 'true');
		});
		// set actives and focus
		target.setAttribute('tabindex', 0);
		target.focus();
		doc.getElementById(target.getAttribute('aria-controls')).removeAttribute('aria-hidden');
	}

	// bindings
	function _bindTabEvents() {
		// bind all tab click and keydown events
		tabs.forEach(function (tab) {
			tab.addEventListener('click', _eventTabClick);
			tab.addEventListener('keydown', _eventTabKeydown);
		});
	}

	function _unbindTabEvents() {
		// unbind all tab click and keydown events
		tabs.forEach(function (tab) {
			tab.removeEventListener('click', _eventTabClick);
			tab.removeEventListener('keydown', _eventTabKeydown);
		});
	}

	// PUBLIC METHODS
	function destroy() {
		_removeA11y();
		_unbindTabEvents();
		docEl.classList.remove(tabsReadyClass);
	}

	// INIT
	function _init() {
		if (tabContainers.length) {
			_addA11y();
			_bindTabEvents();
			docEl.classList.add(tabsReadyClass);
			// set first tab active on init
			_showTab(tabs[0]);
		}
	}
	_init();

	// REVEAL API
	return {
		destroy: destroy
	};
};

// module exports
exports.default = Frtabs;
module.exports = exports['default'];

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJfY29tcG9uZW50cy90YWJzL3RhYnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7OztBQUFZLENBQUM7Ozs7QUFJYixNQUFNLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQzs7Ozs7O0FBQUMsQUFNM0QsSUFBSSxNQUFNLEdBQUcsU0FBVCxNQUFNLEdBTUQ7S0FOYyxRQUFRLHlEQUFHLGFBQWE7O2tFQU0xQyxFQUFFOztpQ0FMTCxlQUFlO0tBQUUsZUFBZSx3Q0FBRyxtQkFBbUI7Z0NBQ3RELGNBQWM7S0FBRSxjQUFjLHVDQUFHLHlCQUF5QjtrQ0FDMUQsZ0JBQWdCO0tBQUUsZ0JBQWdCLHlDQUFHLGlCQUFpQjtrQ0FDdEQsZ0JBQWdCO0tBQUUsZ0JBQWdCLHlDQUFHLDJCQUEyQjtnQ0FDaEUsY0FBYztLQUFFLGNBQWMsdUNBQUcsYUFBYTs7O0FBSy9DLEtBQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQztBQUNyQixLQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsZUFBZTs7O0FBQUMsQUFJbEMsS0FBSSxDQUFDLGVBQWUsSUFBSSxRQUFRLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLE9BQU87Ozs7QUFBQSxBQUs5RixLQUFJLGFBQWEsR0FBRyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDbkQsS0FBSSxRQUFRLEdBQUcsR0FBRyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3JELEtBQUksWUFBWSxHQUFHLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDakUsS0FBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLGdCQUFnQixDQUFDLGVBQWUs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QkFBbUIsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztHQUNyRCxDQUFDLENBQUM7RUFDSDs7O0FBQUEsQUFJRCxVQUFTLE9BQU8sR0FBSTtBQUNuQixhQUFXLEVBQUUsQ0FBQztBQUNkLGtCQUFnQixFQUFFLENBQUM7QUFDbkIsT0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7RUFDdkM7OztBQUFBLEFBSUQsVUFBUyxLQUFLLEdBQUk7QUFDakIsTUFBSSxhQUFhLENBQUMsTUFBTSxFQUFFO0FBQ3pCLFdBQVEsRUFBRSxDQUFDO0FBQ1gsaUJBQWMsRUFBRSxDQUFDO0FBQ2pCLFFBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQzs7QUFBQyxBQUVwQyxXQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDbEI7RUFDRDtBQUNELE1BQUssRUFBRTs7O0FBQUMsQUFJUixRQUFPO0FBQ04sU0FBTyxFQUFQLE9BQU87RUFDUCxDQUFBO0NBRUQ7OztBQUFBLGtCQUljLE1BQU0iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBNb3ZlIEFycmF5IHByb3RvdHlwZSB0byBOb2RlTGlzdCAoYWxsb3dzIGZvciBBcnJheSBtZXRob2RzIG9uIE5vZGVMaXN0cylcbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxpcmlzaC8xMmZiOTUxYThiODkzYTQ1NGIzMiAoI2dpc3Rjb21tZW50LTE0ODczMTUpXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoTm9kZUxpc3QucHJvdG90eXBlLCBBcnJheS5wcm90b3R5cGUpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBUaGUgc2VsZWN0b3IgdG8gbWF0Y2ggZm9yIHRhYiBjb21wb25lbnRzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPYmplY3QgY29udGFpbmluZyBjb25maWd1cmF0aW9uIG92ZXJyaWRlc1xuICovXG5sZXQgRnJ0YWJzID0gZnVuY3Rpb24gKHNlbGVjdG9yID0gJy5qcy1mci10YWJzJywge1xuXHRcdHRhYmxpc3RTZWxlY3RvcjogdGFibGlzdFNlbGVjdG9yID0gJy5mci10YWJzX190YWJsaXN0Jyxcblx0XHRhY3RpdmVUYWJDbGFzczogYWN0aXZlVGFiQ2xhc3MgPSAnZnItdGFic19fdGFiLS1pcy1hY3RpdmUnLFxuXHRcdHRhYnBhbmVsU2VsZWN0b3I6IHRhYnBhbmVsU2VsZWN0b3IgPSAnLmZyLXRhYnNfX3BhbmVsJyxcblx0XHRhY3RpdmVQYW5lbENsYXNzOiBhY3RpdmVQYW5lbENsYXNzID0gJ2ZyLXRhYnNfX3BhbmVsLS1pcy1hY3RpdmUnLFxuXHRcdHRhYnNSZWFkeUNsYXNzOiB0YWJzUmVhZHlDbGFzcyA9ICdoYXMtZnItdGFicydcblx0fSA9IHt9KSB7XG5cblxuXHQvLyBDT05TVEFOVFNcblx0Y29uc3QgZG9jID0gZG9jdW1lbnQ7XG5cdGNvbnN0IGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuXG5cdC8vIFNVUFBPUlRTXG5cdGlmICghJ3F1ZXJ5U2VsZWN0b3InIGluIGRvY3VtZW50IHx8ICEnYWRkRXZlbnRMaXN0ZW5lcicgaW4gd2luZG93IHx8ICFkb2NFbC5jbGFzc0xpc3QpIHJldHVybjtcblxuXG5cdC8vIFNFVFVQXG5cdC8vIHNldCB0YWIgZWxlbWVudCBOb2RlTGlzdHNcblx0bGV0IHRhYkNvbnRhaW5lcnMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdGxldCB0YWJMaXN0cyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKHRhYmxpc3RTZWxlY3Rvcik7XG5cdGxldCB0YWJMaXN0SXRlbXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCh0YWJsaXN0U2VsZWN0b3IgKyAnIGxpJyk7XG5cdGxldCB0YWJzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwodGFibGlzdFNlbGVjdG9yICsgJyBhJyk7XG5cdGxldCB0YWJwYW5lbHMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCh0YWJwYW5lbFNlbGVjdG9yKTtcblxuXG5cdC8vIFBSSVZBVEUgTUVUSE9EU1xuXHQvLyBhMTF5XG5cdGZ1bmN0aW9uIF9hZGRBMTF5ICgpIHtcblx0XHQvLyBhZGQgcm9sZT1cInRhYmxpc3RcIiB0byB1bFxuXHRcdHRhYkxpc3RzLmZvckVhY2goKHRhYkxpc3QpID0+IHtcblx0XHRcdHRhYkxpc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYmxpc3QnKTtcblx0XHR9KTtcblxuXHRcdC8vIGFkZCByb2xlPVwicHJlc2VudGF0aW9uXCIgdG8gbGlcblx0XHR0YWJMaXN0SXRlbXMuZm9yRWFjaCgodGFiSXRlbSkgPT4ge1xuXHRcdFx0dGFiSXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gYWRkIHJvbGU9XCJ0YWJcIiBhbmQgYXJpYS1jb250cm9scyB0byBhbmNob3Jcblx0XHR0YWJzLmZvckVhY2goKHRhYikgPT4ge1xuXHRcdFx0dGFiLnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWInKTtcblx0XHRcdHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCB0YWIuaGFzaC5zdWJzdHJpbmcoMSkpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIGFkZCByb2xlPVwidGFicGFuZWxcIiB0byBzZWN0aW9uXG5cdFx0dGFicGFuZWxzLmZvckVhY2goKHRhYnBhbmVsKSA9PiB7XG5cdFx0XHR0YWJwYW5lbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFicGFuZWwnKTtcblx0XHRcdC8vIG1ha2UgZmlyc3QgY2hpbGQgb2YgdGFicGFuZWwgZm9jdXNhYmxlIGlmIGF2YWlsYWJsZVxuXHRcdFx0aWYgKHRhYnBhbmVsLmNoaWxkcmVuKSB7XG5cdFx0XHRcdHRhYnBhbmVsLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gX3JlbW92ZUExMXkgKCkge1xuXHRcdC8vIHJlbW92ZSByb2xlPVwidGFibGlzdFwiIGZyb20gdWxcblx0XHR0YWJMaXN0cy5mb3JFYWNoKCh0YWJMaXN0KSA9PiB7XG5cdFx0XHR0YWJMaXN0LnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gcmVtb3ZlIHJvbGU9XCJwcmVzZW50YXRpb25cIiBmcm9tIGxpXG5cdFx0dGFiTGlzdEl0ZW1zLmZvckVhY2goKHRhYkl0ZW0pID0+IHtcblx0XHRcdHRhYkl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gcmVtb3ZlIHJvbGU9XCJ0YWJcIiBhbmQgYXJpYS1jb250cm9scyBmcm9tIGFuY2hvclxuXHRcdHRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG5cdFx0XHR0YWIucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG5cdFx0XHR0YWIucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJyk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gcmVtb3ZlIHJvbGU9XCJ0YWJwYW5lbFwiIGZyb20gc2VjdGlvblxuXHRcdHRhYnBhbmVscy5mb3JFYWNoKCh0YWJwYW5lbCkgPT4ge1xuXHRcdFx0dGFicGFuZWwucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG5cdFx0XHQvLyByZW1vdmUgZmlyc3QgY2hpbGQgZm9jdXNhYmlsaXR5IGlmIHByZXNlbnRcblx0XHRcdGlmICh0YWJwYW5lbC5jaGlsZHJlbikge1xuXHRcdFx0XHR0YWJwYW5lbC5jaGlsZHJlblswXS5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXG5cdC8vIGV2ZW50c1xuXHRmdW5jdGlvbiBfZXZlbnRUYWJDbGljayAoZSkge1xuXHRcdF9zaG93VGFiKGUudGFyZ2V0KTtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7IC8vIGxvb2sgaW50byByZW1vdmUgaWQvc2V0dGltZW91dC9yZWluc3RhdGUgaWQgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gcHJldmVudERlZmF1bHRcblx0fVxuXG5cdGZ1bmN0aW9uIF9ldmVudFRhYktleWRvd24gKGUpIHtcblx0XHQvLyBjb2xsZWN0IHRhYiB0YXJnZXRzLCBhbmQgdGhlaXIgcGFyZW50cycgcHJldi9uZXh0XG5cdFx0bGV0IGN1cnJlbnRUYWIgPSBlLnRhcmdldDtcblx0XHRsZXQgcHJldmlvdXNUYWJJdGVtID0gZS50YXJnZXQucGFyZW50Tm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdGxldCBuZXh0VGFiSXRlbSA9IGUudGFyZ2V0LnBhcmVudE5vZGUubmV4dEVsZW1lbnRTaWJsaW5nO1xuXHRcdGxldCBuZXdUYWJJdGVtO1xuXG5cdFx0Ly8gY2F0Y2ggbGVmdCBhbmQgcmlnaHQgYXJyb3cga2V5IGV2ZW50c1xuXHRcdHN3aXRjaCAoZS5rZXlDb2RlKSB7XG5cdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRuZXdUYWJJdGVtID0gcHJldmlvdXNUYWJJdGVtO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMzk6XG5cdFx0XHRcdG5ld1RhYkl0ZW0gPSBuZXh0VGFiSXRlbTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRuZXdUYWJJdGVtID0gZmFsc2Vcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgbmV3IG5leHQvcHJldiB0YWIgYXZhaWxhYmxlLCBzaG93IGl0IGJ5IHBhc3NpbmcgdGFiIGFuY2hvciB0byBfc2hvd1RhYiBtZXRob2Rcblx0XHRpZiAobmV3VGFiSXRlbSkge1xuXHRcdFx0X3Nob3dUYWIobmV3VGFiSXRlbS5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cInRhYlwiXScpKTtcblx0XHR9XG5cdH1cblxuXG5cdC8vIGFjdGlvbnNcblx0ZnVuY3Rpb24gX3Nob3dUYWIgKHRhcmdldCkge1xuXHRcdC8vIHNldCBpbmFjdGl2ZXNcblx0XHR0YWJzLmZvckVhY2goKHRhYikgPT4ge1xuXHRcdFx0dGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSk7XG5cdFx0fSk7XG5cdFx0dGFicGFuZWxzLmZvckVhY2goKHRhYnBhbmVsKSA9PiB7XG5cdFx0XHR0YWJwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblx0XHR9KTtcblx0XHQvLyBzZXQgYWN0aXZlcyBhbmQgZm9jdXNcblx0XHR0YXJnZXQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xuXHRcdHRhcmdldC5mb2N1cygpO1xuXHRcdGRvYy5nZXRFbGVtZW50QnlJZCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJykpLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblx0fVxuXG5cblx0Ly8gYmluZGluZ3Ncblx0ZnVuY3Rpb24gX2JpbmRUYWJFdmVudHMgKCkge1xuXHRcdC8vIGJpbmQgYWxsIHRhYiBjbGljayBhbmQga2V5ZG93biBldmVudHNcblx0XHR0YWJzLmZvckVhY2goKHRhYikgPT4ge1xuXHRcdFx0dGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2V2ZW50VGFiQ2xpY2spO1xuXHRcdFx0dGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBfZXZlbnRUYWJLZXlkb3duKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIF91bmJpbmRUYWJFdmVudHMgKCkge1xuXHRcdC8vIHVuYmluZCBhbGwgdGFiIGNsaWNrIGFuZCBrZXlkb3duIGV2ZW50c1xuXHRcdHRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG5cdFx0XHR0YWIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZXZlbnRUYWJDbGljayk7XG5cdFx0XHR0YWIucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIF9ldmVudFRhYktleWRvd24pO1xuXHRcdH0pO1xuXHR9XG5cblxuXHQvLyBQVUJMSUMgTUVUSE9EU1xuXHRmdW5jdGlvbiBkZXN0cm95ICgpIHtcblx0XHRfcmVtb3ZlQTExeSgpO1xuXHRcdF91bmJpbmRUYWJFdmVudHMoKTtcblx0XHRkb2NFbC5jbGFzc0xpc3QucmVtb3ZlKHRhYnNSZWFkeUNsYXNzKTtcblx0fVxuXG5cblx0Ly8gSU5JVFxuXHRmdW5jdGlvbiBfaW5pdCAoKSB7XG5cdFx0aWYgKHRhYkNvbnRhaW5lcnMubGVuZ3RoKSB7XG5cdFx0XHRfYWRkQTExeSgpO1xuXHRcdFx0X2JpbmRUYWJFdmVudHMoKTtcblx0XHRcdGRvY0VsLmNsYXNzTGlzdC5hZGQodGFic1JlYWR5Q2xhc3MpO1xuXHRcdFx0Ly8gc2V0IGZpcnN0IHRhYiBhY3RpdmUgb24gaW5pdFxuXHRcdFx0X3Nob3dUYWIodGFic1swXSk7XG5cdFx0fVxuXHR9XG5cdF9pbml0KCk7XG5cblxuXHQvLyBSRVZFQUwgQVBJXG5cdHJldHVybiB7XG5cdFx0ZGVzdHJveVxuXHR9XG5cbn1cblxuXG4vLyBtb2R1bGUgZXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgRnJ0YWJzO1xuIl19
